import {
    FETCH_CLIENTS_START,
    FETCH_CLIENTS_SUCCESS,
    FETCH_CLIENTS_FAILURE,
    ADD_NEW_CLIENT,
    UPDATE_CLIENT,
    ADD_NEW_COMMENT
} from 'actionTypes'

import {
    fetchClients as fetchClientsApi
} from 'api'

export const fetchClients = () => async dispatch => {
    dispatch({type: FETCH_CLIENTS_START})

    try {
        const clients = await fetchClientsApi()
        dispatch({
            type: FETCH_CLIENTS_SUCCESS,
            payload: clients
        })
    } catch (err) {
        dispatch({
            type: FETCH_CLIENTS_FAILURE,
            payload: err,
            error: true
        })
    }
}

export const addNewClient = client => dispatch => {
    dispatch({
        type: ADD_NEW_CLIENT,
        payload: client
    })
}

export const updateClient = client => dispatch => {
    dispatch({
        type: UPDATE_CLIENT,
        payload: client
    })
}

export const addNewComment = comment => dispatch => {
    dispatch({
        type: ADD_NEW_COMMENT,
        payload: comment
    })
}