import React from 'react'
import { Field, reduxForm } from 'redux-form'

import {
    required,
    maxLength50
} from '../form/validate'

import {renderRadioButton, renderTextareaField} from './renderFields'

let CommentForm = (props) => {
    const { handleSubmit, pristine, reset, submitting } = props;

    return (
        <form className={"comment-form " + `${props.formActive ? "comment-form--active" : ""}`} onSubmit={ handleSubmit }>
            <div className="comment-form__header">
                <h2 className="comment-form__title">Добавить комментарий</h2>
                <div
                    onClick={props.toggleComment}
                    className="form__close comment-form__close">
                </div>
            </div>
            <div className="comment-form__main">
                <Field validate={[required, maxLength50]} id="comment" name="comment" label="Комментарий" component={renderTextareaField}/>
                <div className="comment-form__row">
                    <div className="comment-form__row-inner">
                        <span className="comment-form__label-text">Тип</span>
                        <div>
                            <Field name="commentType" caption="Обычный" component={renderRadioButton} radioButtonValue="1"/>
                            <Field name="commentType" caption="Инфо" component={renderRadioButton} radioButtonValue="2"/>
                            <Field name="commentType" caption="Важный" component={renderRadioButton} radioButtonValue="3"/>
                        </div>
                    </div>
                </div>
            </div>
            <div className="comment-form__footer">
                <button disabled={submitting} type="submit" className="comment-form__btn comment-form__btn--green">Подтвердить</button>
                <button onClick={props.toggleComment} type="submit" className="comment-form__btn comment-form__btn--gray">Отменить</button>
            </div>
        </form>
    )
}

CommentForm = reduxForm({
    form: 'commentForm',
    initialValues: {
        commentType: "1"
    }
})(CommentForm)

export default CommentForm;